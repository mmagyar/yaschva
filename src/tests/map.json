[
  {
    "name": "map accepts arbitrary keys with set value types",
    "schema": { "$map": ["number"] },
    "validData": [{ "x": 3, "y": 4, "z": 99 }],
    "invalidData": [
      { "x": 3, "y": 4, "z": "99" },
      { "x": 3, "y": "a string", "z": 34 }
    ]
  },
  {
    "name": "Key can be regex validated",
    "schema": {
      "$map": ["number"],
      "key": { "$string": { "regex": "^ab[a-z]" } }
    },
    "validData": [{ "abx": 3, "aby": 4, "abz": 99 }],
    "invalidData": [
      { "x": 3, "y": 4, "z": 99 },
      { "abx": 3, "aby": "a string", "abz": 34 }
    ]
  },
  {
    "name": "Can have size constraint.",
    "schema": { "$map": "string", "minLength": 2, "maxLength": 3 },
    "validData": [{ "a": "some", "x": "value" }],
    "invalidData": [
      { "a": "abc", "e": "efg", "c": "some", "d": "value" },
      { "value": "xyz" }
    ]
  },
  {
    "name": "Can specify types for some keys in map",
    "schema": { "$map": "string", "keySpecificType": { "a": "number" } },
    "validData": [{ "a": 12, "x": "value" }],
    "invalidData": [{ "a": "str", "x": "value" }]
  },
  {
    "name": "Can specify types for some keys in map, use a defined type",
    "schema": {
      "$types": { "$customNumber": { "$number": { "min": 2 } } },
      "$map": "string",
      "keySpecificType": { "a": "$customNumber" }
    },
    "validData": [{ "a": 3, "x": "value" }],
    "invalidData": [{ "a": 1, "x": "value" }]
  },
  {
    "name": "Specified keys most be either an object or a defined type, simple string will throw.",
    "invalidSchema": { "$map": "string", "keySpecificType": "some" },
    "throws": "Invalid keySpecificType: some",
    "invalidData": [{ "x": "value" }]
  },
  {
    "name": "Specified keys are mandatory.",
    "schema": { "$map": "string", "keySpecificType": { "a": "number" } },
    "validData": [{ "a": 2 }],
    "invalidData": [{ "x": "value" }]
  }
]
